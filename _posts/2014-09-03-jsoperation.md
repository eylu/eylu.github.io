---
layout: default
title: JS 那些事儿 —— 加减乘除法 和 数组 in、==
date: 2014-09-03 09:27:00
category: JS
---

看到一个 js 有意思的事儿，在 js 里，你相信你的另一半吗？


## 加减乘除法

```
js console

> var x = 2;
< undefined
> '5' + x - x;
< 50
> '5' - x + x;
< 5
```
What? 同样的操作，只不过顺序不一样，却得到不一样的结果！

找找原因，一步一步来

```
js console

> '5' + x
< '52'
> '5' - x
< 3
```
原来是这样，可以看出，不同类型的数字做加减法，返回的数据类型不一样<br>
字符数字 + 数字 => 字符数字  //此种情况，把运算符'+'后面的数字，变成字符类型，连接起来，实际就是字符串连接操作。<br>
字符数字 - 数字 => 数字      //此种情况，把运算符'-'前面的字符数字，变成数字类型，进行减法操作。


有兴趣的同学可以看看乘除法，这就简单了，会把字符数字全部变成数字类型，再进行运算。

```
js console

> '5' * 3
< 15
> 5 * '3'
< 15
> '5' * '3'
< 15
```

## 数组

```
js console

> 1 in [1]
< false
> 1 in [1,2]
< true
> 0 in [1]
< true

> [1,2] == [1,2]
< false
```
也许你在想，[1,2] 中包含 1， [1] 中不包含 1，最奇葩的是 [1] 中包含 0 这个值！！！<br>
这不科学，难道这是 js 的 bug？<br>
其实不是，这里的 in 并不是包含不包含的意思，而是数组array中是否定义了下标为 n 的值，即 array[n] 是否定义。<br>
而数组下标是从 0 开始，所以

1 in [1] 表示 array[1] 是否定义，答案是 false；<br>
1 in [1,2] 表示 array[1] 是否定义，答案是 true；<br>
0 in [1] 表示 array[0] 是否定义，答案是 true。

至于 [1,2] == [1,2] 返回值为何是 false ,姑且认为是与内存地址有关吧。
